Тариф Метро коммерческий.   (развернутый комментарий)

=A, тип тарифа (Tтар) - суточный-8;         3-х уровневый ID
=B, группа-0;			
=C, номер в группе (Nт)-12;				          коммерческий

=D, округлять до 5000коп;				            результат расчета
=E, бесплатно после вьезда 00:15:00;        15 минут
=F, время на выезд после оплаты 00:15:00;	  15 минут


=1,SdT,    00:00:00,  10000коп, 0коп/00:00:00, 1-флаг;

	1 – маркер первой командной строки ;
	,SdT, - команда – брать за интервал;
	,00:00:00, – время начала интервала;
  ,10000коп, - до нач. следующего интервала брать 100 руб за интервал;
	,0руб/00:00:00, - не брать dS * dT;
	,1-флаг вход в следующий  интервал по временной границе следующего интервала.

=2,SdT,  06:00:00,  0коп, 5000коп/01:00:00 сек, 0-флаг; 

  с 06:00:00 до нач.следующего интервала брать по 50 руб за час (dT-3600 сек).
  0-флаг (вход в седующий интервал в точке завершения dT  из текущего интервала).

=3,SdT,    21:30:00, 10000коп, 0коп/00:00:00, 1-флаг;

	с 21:30:00 до начала следующего интервала брать 100 руб за интервал;
 	1-флаг вход в следующий  интервал по временной границе следующего интервала.

=4,GO, 2;	переход на строку 2 (начало следующего интервала)

=5,END







            Правило "очистки" от комментариев:

Выборка из файла параметров: 

1. Ввод строки начинается с поиска символа "=".
 
2. Затем пропускаем 1 символ и ищем 1ю цифру(пропуская все не цифры),
   выбираем слитно-стоящие цифры - получаем цифровой параметр. 

   или ищем первую цифру (пропуская все не цифры) и выбираем 
   структуру 00:00:00 - получаем время.
 
 

Выборка командной строки:

1. Ввод строки начинается с поиска символа "=".

2. После символа "=" на ограниченном количестве символов ищем символы
   S,G,E - и таким образом идентифицируем команду.

3. Затем ищем первую цифру (пропуская все не цифры) и выбираем 
   структуру 00:00:00 - получаем время начала интервала.

4. Затем пропускаем 1 символ и ищем 1ю цифру(пропуская все не цифры),
   выбираем слитно-стоящие цифры - получаем сумму за интервал.

5. Аналогично выделяем dS,dT,флаг. На этом ввод строки завершаем. 



                  
